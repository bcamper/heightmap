!function(t){var e={};function i(s){if(e[s])return e[s].exports;var r=e[s]={i:s,l:!1,exports:{}};return t[s].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(s,r,function(e){return t[e]}.bind(null,r));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";i.r(e);var s,r=function(t,e,i,s){return new(i||(i=Promise))((function(r,h){function n(t){try{l(s.next(t))}catch(t){h(t)}}function a(t){try{l(s.throw(t))}catch(t){h(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(n,a)}l((s=s.apply(t,e||[])).next())}))};class h{constructor(t,e,i,s={}){this.frame=0,this.elapsed=0,this.lastTime=0,this.fpsSampleRange=s.fpsSampleRange||200,this.startFrameTime=0,this.frameTime=0,this.pixelRatio=s.pixelRatio||1,this.width=t*this.pixelRatio,this.height=e*this.pixelRatio,this.canvas=i,this.canvas.width=this.width,this.canvas.height=this.height,this.canvas.style.width=`${t}px`,this.canvas.style.height=`${e}px`,this.origin={x:this.width/2,y:this.height/2},this.ctx=this.canvas.getContext("2d"),this.imageData=this.ctx.createImageData(this.width,this.height),this.pixels=new Uint32Array(this.imageData.data.buffer),this.background=new Uint32Array(this.pixels.length),this.background.set(this.pixels)}clearScreen(){this.pixels.set(this.background)}blitScreen(){this.ctx.putImageData(this.imageData,0,0)}advanceFrame(t){this.frame++,null!=t&&null!=this.lastTime&&(this.elapsed+=t-this.lastTime,this.frame%this.fpsSampleRange==0&&(this.elapsed=0)),this.lastTime=t}fps(){return Math.round(1e3/(this.elapsed/(this.frame%this.fpsSampleRange)))}timePerFrame(){return this.frameTime/this.frame}startFrameTimer(){this.startFrameTime=+new Date}endFrameTimer(){this.frameTime+=+new Date-this.startFrameTime}static rgba(t,e,i,s=null){return t|e<<8|i<<16|(s||255)<<24}static setRGB(t,e){return 16777215&e|t&255<<24}static setAlpha(t,e){return 16777215&t|e<<24}static loadImage(t){return r(this,void 0,void 0,(function*(){return new Promise((e,i)=>{const s=new Image;s.onload=()=>e(s),s.onerror=()=>i(),s.src=t})}))}static dataFromImage(t){if(null==t)return null;const e=document.createElement("canvas");e.width=t.width,e.height=t.height;const i=e.getContext("2d");return i.drawImage(t,0,0,t.width,t.height),i.getImageData(0,0,t.width,t.height)}static makePaletteForGradients(t,e){let i=null;e.forEach((function(t){(null==i||t[1]>i)&&(i=t[1])}));const s=new Uint32Array(i);return e.forEach((function(e){var i,r,h,n,a;for(r=e[0],h=e[1],n=t[e[2]],a=t[e[3]],i=r;i<r+h;i++)s[i]=(a[0]-n[0])*(i-r)/(h-r)+n[0]|(a[1]-n[1])*(i-r)/(h-r)+n[1]<<8|(a[2]-n[2])*(i-r)/(h-r)+n[2]<<16|255<<24})),s}}class n{constructor(t,e){return{x:t,y:e}}static copy(t){return null==t?null:{x:t.x,y:t.y}}static equals(t,e){return null!=t&&null!=e&&(t.x==e.x&&t.y==e.y)}static rotate(t,e){return new n(t.x*Math.cos(e*Math.PI/180)+t.y*-Math.sin(e*Math.PI/180),t.x*Math.sin(e*Math.PI/180)+t.y*Math.cos(e*Math.PI/180))}static print(t){return null==t?null:"("+t.x+", "+t.y+")"}}class a{constructor(t,e={}){if(this.line=t,this.line.start.x=Math.round(this.line.start.x),this.line.start.y=Math.round(this.line.start.y),this.line.end.x=Math.round(this.line.end.x),this.line.end.y=Math.round(this.line.end.y),this.position=n.copy(this.line.start),this.delta=new n(Math.abs(this.line.end.x-this.line.start.x),Math.abs(this.line.end.y-this.line.start.y)),this.step=new n(this.line.start.x<this.line.end.x?1:-1,this.line.start.y<this.line.end.y?1:-1),this.accumulator=this.delta.x>=this.delta.y?this.delta.x/2:this.delta.y/2,Object.keys(e).length>0){this.properties={},this.propertyDeltas={};for(const t in e)this.properties[t]=e[t][0],this.propertyDeltas[t]=e[t][1]-e[t][0],this.delta.x>=this.delta.y?this.propertyDeltas[t]/=this.delta.x:this.propertyDeltas[t]/=this.delta.y}}next(){if(null!=this.position)if(n.equals(this.position,this.line.end))this.position=null;else if(this.delta.x>=this.delta.y?(this.position.x+=this.step.x,0!=this.step.y&&(this.accumulator-=this.delta.y,this.accumulator<0&&(this.position.y+=this.step.y,this.accumulator+=this.delta.x))):(this.position.y+=this.step.y,0!=this.step.x&&(this.accumulator-=this.delta.x,this.accumulator<0&&(this.position.x+=this.step.x,this.accumulator+=this.delta.y))),null!=this.properties)for(const t in this.properties)this.properties[t]+=this.propertyDeltas[t]}}!function(t){t[t.left=0]="left",t[t.right=1]="right",t[t.both=2]="both"}(s||(s={}));class l{constructor(t,e){this.display=e,this.vertexes=t,this.vertexesTransformed=new Array(this.vertexes.length),this.position=new n(0,0),this.rotation=0,this.ymin=null,this.ymax=null,this.leftEdges=new Int16Array(this.display.height),this.rightEdges=new Int16Array(this.display.height),this.leftEdgeProperties={},this.rightEdgeProperties={},this.rowPropertyDeltas={}}traceEdges(t,e=null){if(null==t)return!1;let i,r;for(let t=0;t<this.vertexes.length;t++)this.vertexesTransformed[t]=n.rotate(this.vertexes[t],this.rotation),(null==i||this.vertexesTransformed[t].y<i.y)&&(i=this.vertexesTransformed[t],r=t);for(let i=0;i<this.vertexes.length;i++){const h=this.vertexes[(i+r)%this.vertexes.length],l=this.vertexes[(i+r+1)%this.vertexes.length],o={start:this.vertexesTransformed[(i+r)%this.vertexes.length],end:this.vertexesTransformed[(i+r+1)%this.vertexes.length]};let d;if(e){d={};for(const t of e)d[t]=[h[t],l[t]]}let u=s.right;o.end.y<o.start.y?u=s.left:o.end.y===o.start.y&&(u=s.both);const c=new a(o,d),p=new n(0,0);for(;null!=c.position;)p.x=c.position.x+this.position.x+this.display.origin.x,p.y=c.position.y+this.position.y+this.display.origin.y,t.call(this,p,c.properties,u),c.next()}return!0}rasterize(t=[],e=null){this.ymin=null,this.ymax=null;for(let t=0;t<this.display.height;t++)this.leftEdges[t]=-1,this.rightEdges[t]=-1;for(const e of t)null==this.leftEdgeProperties[e]&&(this.leftEdgeProperties[e]=new Array(this.display.height)),null==this.rightEdgeProperties[e]&&(this.rightEdgeProperties[e]=new Array(this.display.height)),null==this.rowPropertyDeltas[e]&&(this.rowPropertyDeltas[e]=new Array(this.display.height));this.traceEdges((function(t,e,i){if((null==this.ymin||t.y<this.ymin)&&(this.ymin=t.y),(null==this.ymax||t.y>this.ymax)&&(this.ymax=t.y),this.ymin<0)this.ymin=0;else if(this.ymax>=this.display.height)this.ymax=this.display.height-1;else if(i===s.left||i===s.both){const i=this.leftEdges[t.y];if(-1===i||t.x<i){this.leftEdges[t.y]=t.x;for(const i in e)this.leftEdgeProperties[i][t.y]=e[i]}}else if(i===s.right||i===s.both){const i=this.rightEdges[t.y];if(-1===i||t.x>i){this.rightEdges[t.y]=t.x;for(const i in e)this.rightEdgeProperties[i][t.y]=e[i]}}}),t);for(let e=this.ymin;e<=this.ymax;e++){const i=this.rightEdges[e]-this.leftEdges[e];for(const s of t)this.rowPropertyDeltas[s][e]=(this.rightEdgeProperties[s][e]-this.leftEdgeProperties[s][e])/i}if("function"==typeof e){const i=[];for(let s=this.ymax;s>=this.ymin;s--){let r=0;i[r++]=s,i[r++]=this.leftEdges[s],i[r++]=this.rightEdges[s];for(const e of t)i[r++]=this.leftEdgeProperties[e][s],i[r++]=this.rowPropertyDeltas[e][s];e.apply(this,i)}}}renderEdges(t){this.traceEdges(e=>{this.display.pixels[e.y*this.display.width+e.x]=t})}renderGradient(){this.rasterize(["r","g","b"],(function(t,e,i,s,r,h,n,a,l){let o=t*this.display.width+e;for(let t=e;t<i;t++,o++)this.display.pixels[o]=s+(h<<8)+(a<<16)+(255<<24),s+=r,h+=n,a+=l}))}setTexture(t){this.texture=t,this.tex32=new Uint32Array(this.texture.data.buffer)}renderTexture(){if(null!=this.texture){this.rasterize(["u","v"]),this.display.startFrameTimer();for(let t=this.ymin;t<=this.ymax;t++){let e=this.leftEdgeProperties.u[t];const i=this.rowPropertyDeltas.u[t];let s=this.leftEdgeProperties.v[t];const r=this.rowPropertyDeltas.v[t],h=this.leftEdges[t],n=this.rightEdges[t];let a=t*this.display.width+h;for(let t=h;t<n;t++)this.display.pixels[a]=this.tex32[(~~s<<8)+~~e],e+=i,s+=r,a++}this.display.endFrameTimer()}}static vertexesForNSided(t,e,i={}){const s=[],r=360/t,h=1&t?0:-r/2,a=new n(0,-e);for(let l=0;l<t;l++)s[l]=n.rotate(a,r*l+h),null!=i.texture&&(s[l].u=(s[l].x+e)/e/2*i.texture.width,s[l].v=(s[l].y+e)/e/2*i.texture.height);return s}}var o=function(t,e,i,s){return new(i||(i=Promise))((function(r,h){function n(t){try{l(s.next(t))}catch(t){h(t)}}function a(t){try{l(s.throw(t))}catch(t){h(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(n,a)}l((s=s.apply(t,e||[])).next())}))};const d=document.getElementById("canvas"),u=new h(560,560,d,{pixelRatio:1}),c=new class extends l{constructor(t,e){super(t,e),this.xheights=new Int16Array(this.display.width),this.xheights_empty=new Int16Array(this.display.width);for(let t=0;t<this.xheights_empty.length;t++)this.xheights_empty[t]=this.display.height}renderHeightmap(){const{width:t,height:e,pixels:i}=this.display;if(null!=this.texture){this.display.startFrameTimer(),this.rasterize(["u","v"]),this.xheights.set(this.xheights_empty);for(let s=this.ymax;s>=this.ymin;s--){let r=this.leftEdgeProperties.u[s],h=this.leftEdgeProperties.v[s];const n=this.rowPropertyDeltas.u[s],a=this.rowPropertyDeltas.v[s];let l=this.leftEdges[s],o=this.rightEdges[s];l<0&&(r+=-l*n,h+=-l*a,l=0),o>=t&&(o=t);for(let d=l;d<o;d++){const l=this.tex32[(~~h<<8)+~~r];let o=l>>>24;if(o=s-o,o<0&&(o=0),this.xheights[d]==e&&(this.xheights[d]=o),o<this.xheights[d]){let e=this.xheights[d]*t+d;for(let s=this.xheights[d];s>=o;s--)i[e]=l|255<<24,e-=t;this.xheights[d]=o}r+=n,h+=a}}this.display.endFrameTimer()}}}(l.vertexesForNSided(6,225,{texture:{width:256,height:256}}),u);c.position=new n(0,50),c.vertexes.forEach((function(t,e){t.r=256*e/c.vertexes.length+0,t.g=(e+c.vertexes.length/3)%c.vertexes.length*256/c.vertexes.length+0,t.b=(e+2*c.vertexes.length/3)%c.vertexes.length*256/c.vertexes.length+0})),o(void 0,void 0,void 0,(function*(){const t=yield h.loadImage("../heightmap.png");let e,i,s;for(c.setTexture(h.dataFromImage(t)),e=h.makePaletteForGradients({pure_blue:[0,0,255],dark_blue:[0,26,255],med_blue:[0,103,255],light_blue:[0,179,255],dark_green:[0,80,13],med_green:[64,128,0],light_green:[128,196,0],brown:[80,48,0],white:[252,252,252]},[[0,8,"pure_blue","dark_blue"],[8,24,"dark_blue","med_blue"],[24,32,"med_blue","light_blue"],[32,64,"dark_green","med_green"],[64,120,"med_green","light_green"],[120,180,"light_green","brown"],[180,210,"brown","white"],[210,256,"white","white"]]),i=0;i<c.texture.width*c.texture.height;i++)s=255&c.tex32[i],c.tex32[i]=e[s],c.tex32[i]=h.setAlpha(c.tex32[i],s/2);y()}));let p=null;document.onkeydown=function(t){37==t.keyCode?p="left":39==t.keyCode?p="right":38==t.keyCode?p="up":40==t.keyCode&&(p="down")},document.onkeyup=function(t){p=null};function y(t=+new Date){u.clearScreen(),c.renderHeightmap(),c.rotation+=.5,u.blitScreen(),u.advanceFrame(t),requestAnimationFrame(y)}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BvbHlnb24udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Rpc3BsYXkudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BvaW50LnRzIiwid2VicGFjazovLy8uL3NyYy9saW5lLnRzIiwid2VicGFjazovLy8uL3NyYy9tYWluLnRzIiwid2VicGFjazovLy8uL3NyYy9oZWlnaHRtYXAudHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJFZGdlIiwiRGlzcGxheSIsIndpZHRoIiwiaGVpZ2h0IiwiY2FudmFzIiwib3B0aW9ucyIsInRoaXMiLCJmcmFtZSIsImVsYXBzZWQiLCJsYXN0VGltZSIsImZwc1NhbXBsZVJhbmdlIiwic3RhcnRGcmFtZVRpbWUiLCJmcmFtZVRpbWUiLCJwaXhlbFJhdGlvIiwic3R5bGUiLCJvcmlnaW4iLCJ4IiwieSIsImN0eCIsImdldENvbnRleHQiLCJpbWFnZURhdGEiLCJjcmVhdGVJbWFnZURhdGEiLCJwaXhlbHMiLCJVaW50MzJBcnJheSIsImRhdGEiLCJidWZmZXIiLCJiYWNrZ3JvdW5kIiwibGVuZ3RoIiwic2V0IiwicHV0SW1hZ2VEYXRhIiwidGltZSIsIk1hdGgiLCJyb3VuZCIsIkRhdGUiLCJnIiwiYiIsImEiLCJyZ2IiLCJ1cmwiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImltZyIsIkltYWdlIiwib25sb2FkIiwib25lcnJvciIsInNyYyIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImRyYXdJbWFnZSIsImdldEltYWdlRGF0YSIsImNvbG9ycyIsImJhbmRzIiwibWF4cCIsImZvckVhY2giLCJiYW5kIiwicGFsZXR0ZSIsImIxIiwiYjIiLCJjMSIsImMyIiwiUG9pbnQiLCJmaXJzdCIsInNlY29uZCIsInRoZXRhIiwiY29zIiwiUEkiLCJzaW4iLCJsaW5lIiwicHJvcGVydGllcyIsInN0YXJ0IiwiZW5kIiwicG9zaXRpb24iLCJjb3B5IiwiZGVsdGEiLCJhYnMiLCJzdGVwIiwiYWNjdW11bGF0b3IiLCJrZXlzIiwicHJvcGVydHlEZWx0YXMiLCJrIiwiZXF1YWxzIiwidmVydGV4ZXMiLCJkaXNwbGF5IiwidmVydGV4ZXNUcmFuc2Zvcm1lZCIsIkFycmF5Iiwicm90YXRpb24iLCJ5bWluIiwieW1heCIsImxlZnRFZGdlcyIsIkludDE2QXJyYXkiLCJyaWdodEVkZ2VzIiwibGVmdEVkZ2VQcm9wZXJ0aWVzIiwicmlnaHRFZGdlUHJvcGVydGllcyIsInJvd1Byb3BlcnR5RGVsdGFzIiwidHJhbnNmb3JtIiwicHJvcGVydHlLZXlzIiwidnRvcCIsInZ0b3BJbmRleCIsInYiLCJyb3RhdGUiLCJ2c3RhcnQiLCJ2ZW5kIiwicGsiLCJlZGdlIiwicmlnaHQiLCJsZWZ0IiwiYm90aCIsInRyYWNlciIsIm5leHQiLCJ0cmFjZUVkZ2VzIiwiYXJncyIsImFwcGx5IiwiY29sb3IiLCJyYXN0ZXJpemUiLCJyZGVsdGEiLCJnZGVsdGEiLCJiZGVsdGEiLCJvZmYiLCJ0ZXh0dXJlIiwidGV4MzIiLCJzdGFydEZyYW1lVGltZXIiLCJ1IiwidWRlbHRhIiwidmRlbHRhIiwiZW5kRnJhbWVUaW1lciIsInNpemUiLCJhbmdsZSIsImFuZ2xlT2ZmIiwiZ2V0RWxlbWVudEJ5SWQiLCJwb2x5Z29uIiwic3VwZXIiLCJ4aGVpZ2h0cyIsInhoZWlnaHRzX2VtcHR5IiwiaCIsInoiLCJ2ZXJ0ZXhlc0Zvck5TaWRlZCIsInZlcnRleCIsImxvYWRJbWFnZSIsInNldFRleHR1cmUiLCJkYXRhRnJvbUltYWdlIiwibWFrZVBhbGV0dGVGb3JHcmFkaWVudHMiLCJwdXJlX2JsdWUiLCJkYXJrX2JsdWUiLCJtZWRfYmx1ZSIsImxpZ2h0X2JsdWUiLCJkYXJrX2dyZWVuIiwibWVkX2dyZWVuIiwibGlnaHRfZ3JlZW4iLCJicm93biIsIndoaXRlIiwic2V0QWxwaGEiLCJsb29wIiwib25rZXlkb3duIiwiZXZlbnQiLCJrZXlDb2RlIiwib25rZXl1cCIsImNsZWFyU2NyZWVuIiwicmVuZGVySGVpZ2h0bWFwIiwiYmxpdFNjcmVlbiIsImFkdmFuY2VGcmFtZSIsInJlcXVlc3RBbmltYXRpb25GcmFtZSJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNGLEdBRy9ERyxFQUFPRSxHQUFJLEVBR0pGLEVBQU9ELFFBS2ZGLEVBQW9CUSxFQUFJRixFQUd4Qk4sRUFBb0JTLEVBQUlWLEVBR3hCQyxFQUFvQlUsRUFBSSxTQUFTUixFQUFTUyxFQUFNQyxHQUMzQ1osRUFBb0JhLEVBQUVYLEVBQVNTLElBQ2xDRyxPQUFPQyxlQUFlYixFQUFTUyxFQUFNLENBQUVLLFlBQVksRUFBTUMsSUFBS0wsS0FLaEVaLEVBQW9Ca0IsRUFBSSxTQUFTaEIsR0FDWCxvQkFBWGlCLFFBQTBCQSxPQUFPQyxhQUMxQ04sT0FBT0MsZUFBZWIsRUFBU2lCLE9BQU9DLFlBQWEsQ0FBRUMsTUFBTyxXQUU3RFAsT0FBT0MsZUFBZWIs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YUFBYyxhQUN2QixDQUFDLEdBQUksSUFBSyxZQUFhLGVBQ3ZCLENBQUMsSUFBSyxJQUFLLGNBQWUsU0FDMUIsQ0FBQyxJQUFLLElBQUssUUFBUyxTQUNwQixDQUFDLElBQUssSUFBSyxRQUFTLFdBS2pCeEosRUFBSSxFQUFHQSxFQUFJb0ksRUFBUVgsUUFBUXJILE1BQVFnSSxFQUFRWCxRQUFRcEgsT0FBUUwsSUFDL0R6QixFQUF1QixJQUFuQjZKLEVBQVFWLE1BQU0xSCxHQUNsQm9JLEVBQVFWLE1BQU0xSCxHQUFLMEQsRUFBUW5GLEdBQzNCNkosRUFBUVYsTUFBTTFILEdBQUtHLEVBQVFzSixTQUFTckIsRUFBUVYsTUFBTTFILEdBQUl6QixFQUFJLEdBc0IzRG1MLE9BSUQsSUFBSWpLLEVBQU0sS0FFVndELFNBQVMwRyxVQUFZLFNBQVVDLEdBQ1QsSUFBakJBLEVBQU1DLFFBQ1RwSyxFQUFNLE9BRW1CLElBQWpCbUssRUFBTUMsUUFDZHBLLEVBQU0sUUFFbUIsSUFBakJtSyxFQUFNQyxRQUNkcEssRUFBTSxLQUVtQixJQUFqQm1LLEVBQU1DLFVBQ2RwSyxFQUFNLFNBSVJ3RCxTQUFTNkcsUUFBVSxTQUFVRixHQUM1Qm5LLEVBQU0sTUFNUCxTQUFTaUssRUFBTTFILEdBQWlCLElBQUlHLE1BQ25DLEVBQVE0SCxjQUtSM0IsRUFBUTRCLGtCQUVSNUIsRUFBUTVDLFVBVkMsR0FpQ1QsRUFBUXlFLGFBQ1IsRUFBUUMsYUFBYWxJLEdBQ3JCbUksc0JBQXNCVCIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMCk7XG4iLCJpbXBvcnQgRGlzcGxheSBmcm9tICcuL2Rpc3BsYXknO1xuaW1wb3J0IFBvaW50IGZyb20gJy4vcG9pbnQnO1xuaW1wb3J0IExpbmVUcmFjZXIsIHsgUHJvcGVydHlWYWx1ZURpY3Rpb25hcnksIFByb3BlcnR5UmFuZ2VEaWN0aW9uYXJ5IH0gZnJvbSAnLi9saW5lJztcblxuZW51bSBFZGdlIHsgbGVmdCwgcmlnaHQsIGJvdGggfVxuXG5leHBvcnQgaW50ZXJmYWNlIFZlcnRleCBleHRlbmRzIFBvaW50IHtcbi8vIGludGVyZmFjZSBWZXJ0ZXgge1xuXHRbaW5kZXg6IHN0cmluZ106IG51bWJlcjsgLy8gYWRkaXRpb25hbCB2ZXJ0ZXgtc3BlY2lmaWMgcHJvcGVydGllc1xufVxuXG5pbnRlcmZhY2UgUHJvcGVydHlWYWx1ZVJvd0RpY3Rpb25hcnkge1xuXHRbaW5kZXg6IHN0cmluZ106IG51bWJlcltdO1xufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb2x5Z29uIHtcblx0ZGlzcGxheTogRGlzcGxheTtcblx0dmVydGV4ZXM6IFZlcnRleFtdO1xuXHR2ZXJ0ZXhlc1RyYW5zZm9ybWVkOiBQb2ludFtdO1xuXHRwb3NpdGlvbjogUG9pbnQ7XG5cdHJvdGF0aW9uOiBudW1iZXI7XG5cblx0eW1pbjogbnVtYmVyO1xuXHR5bWF4OiBudW1iZXI7XG5cdGxlZnRFZGdlczogSW50MTZBcnJheTtcblx0cmlnaHRFZGdlczogSW50MTZBcnJheTtcblx0bGVmdEVkZ2VQcm9wZXJ0aWVzOiBQcm9wZXJ0eVZhbHVlUm93RGljdGlvbmFyeTtcblx0cmlnaHRFZGdlUHJvcGVydGllczogUHJvcGVydHlWYWx1ZVJvd0RpY3Rpb25hcnk7XG5cdHJvd1Byb3BlcnR5RGVsdGFzOiBQcm9wZXJ0eVZhbHVlUm93RGljdGlvbmFyeTtcblxuXHR0ZXh0dXJlOiBJbWFnZURhdGE7XG5cdHRleDMyOiBVaW50MzJBcnJheTtcblxuXHRjb25zdHJ1Y3Rvcih2ZXJ0ZXhlczogVmVydGV4W10sIGRpc3BsYXk6IERpc3BsYXkpIHtcblx0XHR0aGlzLmRpc3BsYXkgPSBkaXNwbGF5O1xuXHRcdHRoaXMudmVydGV4ZXMgPSB2ZXJ0ZXhlczsgLy8gdmVydGV4ZXMgbXVzdCBiZSBjbG9ja3dpc2Vcblx0XHR0aGlzLnZlcnRleGVzVHJhbnNmb3JtZWQgPSBuZXcgQXJyYXkodGhpcy52ZXJ0ZXhlcy5sZW5ndGgpO1xuXHRcdHRoaXMucG9zaXRpb24gPSBuZXcgUG9pbnQoMCwgMCk7XG5cdFx0dGhpcy5yb3RhdGlvbiA9IDA7XG5cblx0XHR0aGlzLnltaW4gPSBudWxsO1xuXHRcdHRoaXMueW1heCA9IG51bGw7XG5cdFx0dGhpcy5sZWZ0RWRnZXMgPSBuZXcgSW50MTZBcnJheSh0aGlzLmRpc3BsYXkuaGVpZ2h0KTtcblx0XHR0aGlzLnJpZ2h0RWRnZXMgPSBuZXcgSW50MTZBcnJheSh0aGlzLmRpc3BsYXkuaGVpZ2h0KTtcblxuXHRcdHRoaXMubGVmdEVkZ2VQcm9wZXJ0aWVzID0ge307XG5cdFx0dGhpcy5yaWdodEVkZ2VQcm9wZXJ0aWVzID0ge307XG5cdFx0dGhpcy5yb3dQcm9wZXJ0eURlbHRhcyA9IHt9O1xuXHR9XG5cblx0LyogUmFzdGVyaXphdGlvbiBtZXRob2RzICovXG5cblx0dHJhY2VFZGdlcyh0cmFuc2Zvcm06IEZ1bmN0aW9uLCBwcm9wZXJ0eUtleXM6IHN0cmluZ1tdID0gbnVsbCk6IGJvb2xlYW4ge1xuXHRcdGlmICh0cmFuc2Zvcm0gPT0gbnVsbCkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIEZpbmQgdG9wIHZlcnRleFxuXHRcdGxldCB2dG9wOiBQb2ludDtcblx0XHRsZXQgdnRvcEluZGV4Om51bWJlcjtcblx0XHRmb3IgKGxldCB2ID0gMDsgdiA8IHRoaXMudmVydGV4ZXMubGVuZ3RoOyB2ICsrKSB7XG5cdFx0XHR0aGlzLnZlcnRleGVzVHJhbnNmb3JtZWRbdl0gPSBQb2ludC5yb3RhdGUodGhpcy52ZXJ0ZXhlc1t2XSwgdGhpcy5yb3RhdGlvbik7XG5cblx0XHRcdC8vIFNvbWUgZXhwZXJpbWVudHMgd2l0aCB2aWV3IHRyYW5zZm9ybXNcblx0XHRcdC8vIHRoaXMudmVydGV4ZXNUcmFuc2Zvcm1lZFt2XS55IC89IHRoaXMudGlsdDsgLy8gY2FuIGJlIHVzZWQgZm9yICd0aHJlZS1xdWFydGVyIHZpZXcnIHN0eWxlXG5cdFx0XHQvLyB0aGlzLnZlcnRleGVzVHJhbnNmb3JtZWRbdl0ueCAqPSB0aGlzLnpvb207XG5cdFx0XHQvLyB0aGlzLnZlcnRleGVzVHJhbnNmb3JtZWRbdl0ueSAqPSB0aGlzLnpvb207XG5cblx0XHRcdGlmICh2dG9wID09IG51bGwgfHwgdGhpcy52ZXJ0ZXhlc1RyYW5zZm9ybWVkW3ZdLnkgPCB2dG9wLnkpIHtcblx0XHRcdFx0dnRvcCA9IHRoaXMudmVydGV4ZXNUcmFuc2Zvcm1lZFt2XTtcblx0XHRcdFx0dnRvcEluZGV4ID0gdjtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBUcmFjZSBhbGwgZWRnZXNcblx0XHRmb3IgKGxldCB2ID0gMDsgdiA8IHRoaXMudmVydGV4ZXMubGVuZ3RoOyB2ICsrKSB7XG5cdFx0XHRjb25zdCB2c3RhcnQ6IFZlcnRleCA9IHRoaXMudmVydGV4ZXNbKHYgKyB2dG9wSW5kZXgpICUgdGhpcy52ZXJ0ZXhlcy5sZW5ndGhdO1xuXHRcdFx0Y29uc3QgdmVuZDogVmVydGV4ID0gdGhpcy52ZXJ0ZXhlc1sodiArIHZ0b3BJbmRleCArIDEpICUgdGhpcy52ZXJ0ZXhlcy5sZW5ndGhdO1xuXG5cdFx0XHRjb25zdCBsaW5lID0ge1xuXHRcdFx0XHRzdGFydDogdGhpcy52ZXJ0ZXhlc1RyYW5zZm9ybWVkWyh2ICsgdnRvcEluZGV4KSAlIHRoaXMudmVydGV4ZXMubGVuZ3RoXSxcblx0XHRcdFx0ZW5kOiB0aGlzLnZlcnRleGVzVHJhbnNmb3JtZWRbKHYgKyB2dG9wSW5kZXggKyAxKSAlIHRoaXMudmVydGV4ZXMubGVuZ3RoXVxuXHRcdFx0fTtcblxuXHRcdFx0Ly8gVE9ETzogYWxsb3cgcHJvcGVydGllcyB0byBiZSBzZXQgdmlhIGEgcHJvdmlkZWQgZnVuY3Rpb24sIHRvIHN1cHBvcnQgZGlmZmVyZW50IGRhdGEgc3RydWN0dXJlc1xuXHRcdFx0Ly8gcHJvcGVydHlLZXlzW2tdKHZzdGFydCwgdmVuZCkgLT4gcmV0dXJucyBbZnJvbSwgdG9dXG5cdFx0XHRsZXQgcHJvcGVydGllczogUHJvcGVydHlSYW5nZURpY3Rpb25hcnk7XG5cdFx0XHRpZiAocHJvcGVydHlLZXlzKSB7XG5cdFx0XHRcdHByb3BlcnRpZXMgPSB7fTtcblx0XHRcdFx0Zm9yIChjb25zdCBwayBvZiBwcm9wZXJ0eUtleXMpIHtcblx0XHRcdFx0XHRwcm9wZXJ0aWVzW3BrXSA9IFt2c3RhcnRbcGtdLCB2ZW5kW3BrXV07XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0bGV0IGVkZ2U6RWRnZSA9IEVkZ2UucmlnaHQ7XG5cdFx0XHRpZiAobGluZS5lbmQueSA8IGxpbmUuc3RhcnQueSkge1xuXHRcdFx0XHRlZGdlID0gRWRnZS5sZWZ0O1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSBpZiAobGluZS5lbmQueSA9PT0gbGluZS5zdGFydC55KSB7XG5cdFx0XHRcdGVkZ2UgPSBFZGdlLmJvdGg7XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IHRyYWNlcjpMaW5lVHJhY2VyID0gbmV3IExpbmVUcmFjZXIobGluZSwgcHJvcGVydGllcyk7XG5cblx0XHRcdC8vIFRyYWNlIGVkZ2UsIGFuZCBydW4gdHJhbnNmb3JtIGZ1bmN0aW9uIG9uIGVhY2ggcGl4ZWxcblx0XHRcdGNvbnN0IHA6IFBvaW50ID0gbmV3IFBvaW50KDAsIDApO1xuXHRcdFx0d2hpbGUgKHRyYWNlci5wb3NpdGlvbiAhPSBudWxsKSB7XG5cdFx0XHRcdHAueCA9IHRyYWNlci5wb3NpdGlvbi54ICsgdGhpcy5wb3NpdGlvbi54ICsgdGhpcy5kaXNwbGF5Lm9yaWdpbi54O1xuXHRcdFx0XHRwLnkgPSB0cmFjZXIucG9zaXRpb24ueSArIHRoaXMucG9zaXRpb24ueSArIHRoaXMuZGlzcGxheS5vcmlnaW4ueTtcblx0XHRcdFx0dHJhbnNmb3JtLmNhbGwodGhpcywgcCwgdHJhY2VyLnByb3BlcnRpZXMsIGVkZ2UpO1xuXHRcdFx0XHR0cmFjZXIubmV4dCgpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cblx0Ly8gVE9ETzogbW92ZSByYXN0ZXJpemVkIGluZm8gc2VwYXJhdGUgb2JqZWN0L2RhdGEgc3RydWN0dXJlIGZyb20gY29yZSBwb2x5Z29uP1xuXHRyYXN0ZXJpemUocHJvcGVydHlLZXlzOiBzdHJpbmdbXSA9IFtdLCB0cmFuc2Zvcm06IEZ1bmN0aW9uID0gbnVsbCkge1xuXHRcdHRoaXMueW1pbiA9IG51bGw7XG5cdFx0dGhpcy55bWF4ID0gbnVsbDtcblxuXHRcdGZvciAobGV0IHkgPSAwOyB5IDwgdGhpcy5kaXNwbGF5LmhlaWdodDsgeSsrKSB7XG5cdFx0XHR0aGlzLmxlZnRFZGdlc1t5XSA9IC0xO1xuXHRcdFx0dGhpcy5yaWdodEVkZ2VzW3ldID0gLTE7XG5cdFx0fVxuXG5cdFx0Zm9yIChjb25zdCBwayBvZiBwcm9wZXJ0eUtleXMpIHtcblx0XHRcdGlmICh0aGlzLmxlZnRFZGdlUHJvcGVydGllc1twa10gPT0gbnVsbCkge1xuXHRcdFx0XHR0aGlzLmxlZnRFZGdlUHJvcGVydGllc1twa10gPSBuZXcgQXJyYXkodGhpcy5kaXNwbGF5LmhlaWdodCk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICh0aGlzLnJpZ2h0RWRnZVByb3BlcnRpZXNbcGtdID09IG51bGwpIHtcblx0XHRcdFx0dGhpcy5yaWdodEVkZ2VQcm9wZXJ0aWVzW3BrXSA9IG5ldyBBcnJheSh0aGlzLmRpc3BsYXkuaGVpZ2h0KTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKHRoaXMucm93UHJvcGVydHlEZWx0YXNbcGtdID09IG51bGwpIHtcblx0XHRcdFx0dGhpcy5yb3dQcm9wZXJ0eURlbHRhc1twa10gPSBuZXcgQXJyYXkodGhpcy5kaXNwbGF5LmhlaWdodCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0dGhpcy50cmFjZUVkZ2VzKFxuXHRcdFx0ZnVuY3Rpb24gcmFzdGVyaXplVHJhY2VFZGdlcyhwOiBQb2ludCwgcHJvcGVydGllczogUHJvcGVydHlWYWx1ZURpY3Rpb25hcnksIGVkZ2U6IEVkZ2UpIHtcblx0XHRcdFx0Ly8gVE9ETzogZ2V0IG1pbi9tYXggYnkgZGV0ZWN0aW5nIHRvcC9ib3R0b20gdmVydGV4ZXMgZGlyZWN0bHlcblx0XHRcdFx0aWYgKHRoaXMueW1pbiA9PSBudWxsIHx8IHAueSA8IHRoaXMueW1pbikge1xuXHRcdFx0XHRcdFx0dGhpcy55bWluID0gcC55O1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKHRoaXMueW1heCA9PSBudWxsIHx8IHAueSA+IHRoaXMueW1heCkge1xuXHRcdFx0XHRcdFx0dGhpcy55bWF4ID0gcC55O1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gQ2xpcFxuXHRcdFx0XHRpZiAodGhpcy55bWluIDwgMCkge1xuXHRcdFx0XHRcdFx0dGhpcy55bWluID0gMDtcblx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXHRcdFx0XHRlbHNlIGlmICh0aGlzLnltYXggPj0gdGhpcy5kaXNwbGF5LmhlaWdodCkge1xuXHRcdFx0XHRcdFx0dGhpcy55bWF4ID0gdGhpcy5kaXNwbGF5LmhlaWdodCAtIDE7XG5cdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBUcmFjayBlZGdlIHggY29vcmRpbmF0ZXMgYW5kIHByb3BlcnRpZXNcblx0XHRcdFx0aWYgKGVkZ2UgPT09IEVkZ2UubGVmdCB8fCBlZGdlID09PSBFZGdlLmJvdGgpIHtcblx0XHRcdFx0XHRjb25zdCBsZWZ0ID0gdGhpcy5sZWZ0RWRnZXNbcC55XTtcblx0XHRcdFx0XHRpZiAobGVmdCA9PT0gLTEgfHwgcC54IDwgbGVmdCkge1xuXHRcdFx0XHRcdFx0dGhpcy5sZWZ0RWRnZXNbcC55XSA9IHAueDtcblxuXHRcdFx0XHRcdFx0Zm9yIChjb25zdCBrIGluIHByb3BlcnRpZXMpIHtcblx0XHRcdFx0XHRcdFx0dGhpcy5sZWZ0RWRnZVByb3BlcnRpZXNba11bcC55XSA9IHByb3BlcnRpZXNba107XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdGVsc2UgaWYgKGVkZ2UgPT09IEVkZ2UucmlnaHQgfHwgZWRnZSA9PT0gRWRnZS5ib3RoKSB7XG5cdFx0XHRcdFx0Y29uc3QgcmlnaHQgPSB0aGlzLnJpZ2h0RWRnZXNbcC55XTtcblx0XHRcdFx0XHRpZiAocmlnaHQgPT09IC0xIHx8IHAueCA+IHJpZ2h0KSB7XG5cdFx0XHRcdFx0XHR0aGlzLnJpZ2h0RWRnZXNbcC55XSA9IHAueDtcblxuXHRcdFx0XHRcdFx0Zm9yIChjb25zdCBrIGluIHByb3BlcnRpZXMpIHtcblx0XHRcdFx0XHRcdFx0dGhpcy5yaWdodEVkZ2VQcm9wZXJ0aWVzW2tdW3AueV0gPSBwcm9wZXJ0aWVzW2tdO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHRcdHByb3BlcnR5S2V5c1xuXHRcdCk7XG5cblx0XHQvLyBQcmUtY29tcHV0ZSByYXN0ZXIgcHJvcGVydHkgZGVsdGFzXG5cdFx0Zm9yIChsZXQgeSA9IHRoaXMueW1pbjsgeSA8PSB0aGlzLnltYXg7IHkrKykge1xuXHRcdFx0Y29uc3Qgd2lkdGggPSB0aGlzLnJpZ2h0RWRnZXNbeV0gLSB0aGlzLmxlZnRFZGdlc1t5XTtcblx0XHRcdGZvciAoY29uc3QgcGsgb2YgcHJvcGVydHlLZXlzKSB7XG5cdFx0XHRcdHRoaXMucm93UHJvcGVydHlEZWx0YXNbcGtdW3ldID0gKHRoaXMucmlnaHRFZGdlUHJvcGVydGllc1twa11beV0gLSB0aGlzLmxlZnRFZGdlUHJvcGVydGllc1twa11beV0pIC8gd2lkdGg7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gTk9URTogaGF2ZSBtb3N0bHkgZGVwcmVjYXRlZCAvIG5vdCB1c2luZyB0aGlzIHBlci1zY2FubGluZSBjYWxsYmFjayBtZXRob2QsXG5cdFx0Ly8gYmVjYXVzZSBpdCBpcyB0b28gc2xvdyAoZGVmZWF0cyBvcHRpbWl6YXRpb25zPyBmdW5jdGlvbiBjYWxsIG92ZXJoZWFkIHRvbyBoaWdoPylcblxuXHRcdC8vIFRyYW5zZm9ybS9yZW5kZXIgZWFjaCBzY2FubGluZVxuXHRcdGlmICh0eXBlb2YgdHJhbnNmb3JtID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHQvLyB0aGlzLmRpc3BsYXkuc3RhcnRGcmFtZVRpbWVyKCk7XG5cdFx0XHRjb25zdCBhcmdzID0gW107XG5cdFx0XHRmb3IgKGxldCB5ID0gdGhpcy55bWF4OyB5ID49IHRoaXMueW1pbjsgeS0tKSB7XG5cdFx0XHRcdGxldCBwID0gMDtcblx0XHRcdFx0YXJnc1twKytdID0geTtcblx0XHRcdFx0YXJnc1twKytdID0gdGhpcy5sZWZ0RWRnZXNbeV07XG5cdFx0XHRcdGFyZ3NbcCsrXSA9IHRoaXMucmlnaHRFZGdlc1t5XTtcblxuXHRcdFx0XHRmb3IgKGNvbnN0IHBrIG9mIHByb3BlcnR5S2V5cykge1xuXHRcdFx0XHRcdGFyZ3NbcCsrXSA9IHRoaXMubGVmdEVkZ2VQcm9wZXJ0aWVzW3BrXVt5XTtcblx0XHRcdFx0XHRhcmdzW3ArK10gPSB0aGlzLnJvd1Byb3BlcnR5RGVsdGFzW3BrXVt5XTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHRyYW5zZm9ybS5hcHBseSh0aGlzLCBhcmdzKTtcblx0XHRcdH1cblx0XHRcdC8vIHRoaXMuZGlzcGxheS5lbmRGcmFtZVRpbWVyKCk7XG5cdFx0fVxuXHR9XG5cblx0LyogUmVuZGVyaW5nIG1ldGhvZHMgKi9cblxuXHRyZW5kZXJFZGdlcyhjb2xvcjogbnVtYmVyKSB7XG5cdFx0dGhpcy50cmFjZUVkZ2VzKChwOiBQb2ludCkgPT4ge1xuXHRcdFx0dGhpcy5kaXNwbGF5LnBpeGVsc1twLnkgKiB0aGlzLmRpc3BsYXkud2lkdGggKyBwLnhdID0gY29sb3I7XG5cdFx0fSk7XG5cdH1cblxuXHRyZW5kZXJHcmFkaWVudCgpIHtcblx0XHR0aGlzLnJhc3Rlcml6ZShcblx0XHRcdFsncicsICdnJywgJ2InXSxcblx0XHRcdGZ1bmN0aW9uIHJlbmRlclNjYW5saW5lKFxuXHRcdFx0XHR5OiBudW1iZXIsIGxlZnQ6IG51bWJlciwgcmlnaHQ6IG51bWJlcixcblx0XHRcdFx0cjogbnVtYmVyLCByZGVsdGE6IG51bWJlcixcblx0XHRcdFx0ZzogbnVtYmVyLCBnZGVsdGE6IG51bWJlcixcblx0XHRcdFx0YjogbnVtYmVyLCBiZGVsdGE6IG51bWJlcikge1xuXG5cdFx0XHRcdGxldCBvZmYgPSB5ICogdGhpcy5kaXNwbGF5LndpZHRoICsgbGVmdDtcblxuXHRcdFx0XHRmb3IgKGxldCB4ID0gbGVmdDsgeCA8IHJpZ2h0OyB4KyssIG9mZisrKSB7XG5cdFx0XHRcdFx0dGhpcy5kaXNwbGF5LnBpeGVsc1tvZmZdID0gciArIChnIDw8IDgpICsgKGIgPDwgMTYpICsgKDI1NSA8PCAyNCk7XG5cblx0XHRcdFx0XHRyICs9IHJkZWx0YTtcblx0XHRcdFx0XHRnICs9IGdkZWx0YTtcblx0XHRcdFx0XHRiICs9IGJkZWx0YTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdCk7XG5cdH1cblxuXHRzZXRUZXh0dXJlKGltYWdlRGF0YTogSW1hZ2VEYXRhKSB7XG5cdFx0dGhpcy50ZXh0dXJlID0gaW1hZ2VEYXRhOyAvLyBmdWxsIEltYWdlRGF0YSByZWZlcmVuY2Vcblx0XHR0aGlzLnRleDMyID0gbmV3IFVpbnQzMkFycmF5KHRoaXMudGV4dHVyZS5kYXRhLmJ1ZmZlcik7IC8vIDMyLWJpdCByZWZlcmVuY2UgdG8gZGF0YSBmb3IgZmFzdGVyIGFjY2Vzc1xuXHR9XG5cblx0cmVuZGVyVGV4dHVyZSgpIHtcblx0XHRpZiAodGhpcy50ZXh0dXJlID09IG51bGwpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR0aGlzLnJhc3Rlcml6ZShbJ3UnLCAndiddKTtcblxuXHRcdHRoaXMuZGlzcGxheS5zdGFydEZyYW1lVGltZXIoKTtcblx0XHRmb3IgKGxldCB5ID0gdGhpcy55bWluOyB5IDw9IHRoaXMueW1heDsgeSsrKSB7XG5cdFx0XHRsZXQgdSA9IHRoaXMubGVmdEVkZ2VQcm9wZXJ0aWVzLnVbeV07XG5cdFx0XHRjb25zdCB1ZGVsdGEgPSB0aGlzLnJvd1Byb3BlcnR5RGVsdGFzLnVbeV07XG5cblx0XHRcdGxldCB2ID0gdGhpcy5sZWZ0RWRnZVByb3BlcnRpZXMudlt5XTtcblx0XHRcdGNvbnN0IHZkZWx0YSA9IHRoaXMucm93UHJvcGVydHlEZWx0YXMudlt5XTtcblxuXHRcdFx0Y29uc3QgbGVmdCA9IHRoaXMubGVmdEVkZ2VzW3ldO1xuXHRcdFx0Y29uc3QgcmlnaHQgPSB0aGlzLnJpZ2h0RWRnZXNbeV07XG5cblx0XHRcdGxldCBvZmYgPSB5ICogdGhpcy5kaXNwbGF5LndpZHRoICsgbGVmdDtcblx0XHRcdGZvciAobGV0IHggPSBsZWZ0OyB4IDwgcmlnaHQ7IHgrKykge1xuXHRcdFx0XHR0aGlzLmRpc3BsYXkucGl4ZWxzW29mZl0gPSB0aGlzLnRleDMyWygofn52KSA8PCA4KSArICh+fnUpXTtcblxuXHRcdFx0XHR1ICs9IHVkZWx0YTtcblx0XHRcdFx0diArPSB2ZGVsdGE7XG5cdFx0XHRcdG9mZisrO1xuXHRcdFx0fVxuXHRcdH1cblx0XHR0aGlzLmRpc3BsYXkuZW5kRnJhbWVUaW1lcigpO1xuXHR9XG5cblx0LyogRmFjdG9yeSBtZXRob2RzICovXG5cblx0c3RhdGljIHZlcnRleGVzRm9yTlNpZGVkKG46IG51bWJlciwgc2l6ZTogbnVtYmVyLCBvcHRpb25zOiB7IHRleHR1cmU/OiB7IHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyIH0gfSA9IHt9KTogVmVydGV4W10ge1xuXHRcdGNvbnN0IHZlcnRleGVzOiBWZXJ0ZXhbXSA9IFtdO1xuXHRcdGNvbnN0IGFuZ2xlOiBudW1iZXIgPSAzNjAgLyBuO1xuXHRcdGNvbnN0IGFuZ2xlT2ZmOiBudW1iZXIgPSAobiAmIDEpID8gMCA6ICgtYW5nbGUgLyAyKTtcblx0XHRjb25zdCBwID0gbmV3IFBvaW50KDAsIC1zaXplKTtcblxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgbjsgaSArKykge1xuXHRcdFx0dmVydGV4ZXNbaV0gPSBQb2ludC5yb3RhdGUocCwgYW5nbGUgKiBpICsgYW5nbGVPZmYpIGFzIFZlcnRleDtcblxuXHRcdFx0Ly8gRml0IHRleHR1cmUgdG8gcG9seWdvblxuXHRcdFx0aWYgKG9wdGlvbnMudGV4dHVyZSAhPSBudWxsKSB7XG5cdFx0XHRcdHZlcnRleGVzW2ldLnUgPSAodmVydGV4ZXNbaV0ueCArIHNpemUpIC8gc2l6ZSAvIDIgKiBvcHRpb25zLnRleHR1cmUud2lkdGg7XG5cdFx0XHRcdHZlcnRleGVzW2ldLnYgPSAodmVydGV4ZXNbaV0ueSArIHNpemUpIC8gc2l6ZSAvIDIgKiBvcHRpb25zLnRleHR1cmUuaGVpZ2h0O1xuXHRcdFx0XHQvLyBsb2coXCJ1OiBcIiArIHZlcnRleGVzW2ldLnUgKyBcIiwgdjogXCIgKyB2ZXJ0ZXhlc1tpXS52KTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBUZXN0aW5nIG1vcmUgcHJlY2lzZSB0ZXh0dXJlIGZpdHRpbmdcblx0XHQvLyBpZiAob3B0aW9ucy50ZXh0dXJlICE9IG51bGwpIHtcblx0XHQvLyBcdHZhciB4bWluLCB4bWF4LCB5bWluLCB5bWF4O1xuXHRcdC8vIFx0dmVydGV4ZXMuZm9yRWFjaChmdW5jdGlvbiAodmVydGV4KSB7XG5cdFx0Ly8gXHRcdGlmICh4bWluID09IG51bGwgfHwgdmVydGV4LnggPCB4bWluKSB7XG5cdFx0Ly8gXHRcdFx0eG1pbiA9IHZlcnRleC54O1xuXHRcdC8vIFx0XHR9XG5cdFx0Ly8gXHRcdGlmICh4bWF4ID09IG51bGwgfHwgdmVydGV4LnggPiB4bWF4KSB7XG5cdFx0Ly8gXHRcdFx0eG1heCA9IHZlcnRleC54O1xuXHRcdC8vIFx0XHR9XG5cblx0XHQvLyBcdFx0aWYgKHltaW4gPT0gbnVsbCB8fCB2ZXJ0ZXgueSA8IHltaW4pIHtcblx0XHQvLyBcdFx0XHR5bWluID0gdmVydGV4Lnk7XG5cdFx0Ly8gXHRcdH1cblx0XHQvLyBcdFx0aWYgKHltYXggPT0gbnVsbCB8fCB2ZXJ0ZXgueSA+IHltYXgpIHtcblx0XHQvLyBcdFx0XHR5bWF4ID0gdmVydGV4Lnk7XG5cdFx0Ly8gXHRcdH1cblx0XHQvLyBcdH0pO1xuXG5cdFx0Ly8gXHR2ZXJ0ZXhlcy5mb3JFYWNoKGZ1bmN0aW9uICh2ZXJ0ZXgpIHtcblx0XHQvLyBcdFx0dmVydGV4LnUgPSAodmVydGV4LnggLSB4bWluKSAvICh4bWF4IC0geG1pbikgKiAob3B0aW9ucy50ZXh0dXJlLndpZHRoIC0gMikgKyAxO1xuXHRcdC8vIFx0XHR2ZXJ0ZXgudiA9ICh2ZXJ0ZXgueSAtIHltaW4pIC8gKHltYXggLSB5bWluKSAqIChvcHRpb25zLnRleHR1cmUuaGVpZ2h0IC0gMikgKyAxO1xuXHRcdC8vIFx0XHQvLyBsb2coXCJ1OiBcIiArIHZlcnRleC51ICsgXCIsIHY6IFwiICsgdmVydGV4LnYpO1xuXHRcdC8vIFx0fSk7XG5cdFx0Ly8gfVxuXG5cdFx0cmV0dXJuIHZlcnRleGVzO1xuXHR9XG5cbn1cbiIsImltcG9ydCBQb2ludCBmcm9tICcuL3BvaW50JztcblxuaW50ZXJmYWNlIENvbG9yRGljdGlvbmFyeSB7XG4gIFtpbmRleDogc3RyaW5nXTogW251bWJlciwgbnVtYmVyLCBudW1iZXIsIG51bWJlcj9dO1xufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEaXNwbGF5IHtcbiAgd2lkdGg6IG51bWJlcjtcbiAgaGVpZ2h0OiBudW1iZXI7XG4gIHBpeGVsUmF0aW86IG51bWJlcjtcbiAgb3JpZ2luOiBQb2ludDtcblxuICBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50O1xuICBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcbiAgaW1hZ2VEYXRhOiBJbWFnZURhdGE7XG4gIHBpeGVsczogVWludDMyQXJyYXk7XG4gIGJhY2tncm91bmQ6IFVpbnQzMkFycmF5O1xuXG4gIGZyYW1lOiBudW1iZXI7XG4gIGVsYXBzZWQ6IG51bWJlcjtcbiAgbGFzdFRpbWU6IG51bWJlcjtcbiAgc3RhcnRGcmFtZVRpbWU6IG51bWJlcjtcbiAgZnJhbWVUaW1lOiBudW1iZXI7XG4gIGZwc1NhbXBsZVJhbmdlOiBudW1iZXI7XG5cbiAgY29uc3RydWN0b3Iod2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIsIGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQsIG9wdGlvbnM6IGFueSA9IHt9KSB7XG4gICAgdGhpcy5mcmFtZSA9IDA7XG4gICAgdGhpcy5lbGFwc2VkID0gMDtcbiAgICB0aGlzLmxhc3RUaW1lID0gMDtcbiAgICB0aGlzLmZwc1NhbXBsZVJhbmdlID0gb3B0aW9ucy5mcHNTYW1wbGVSYW5nZSB8fCAyMDA7XG4gICAgdGhpcy5zdGFydEZyYW1lVGltZSA9IDA7XG4gICAgdGhpcy5mcmFtZVRpbWUgPSAwO1xuXG4gICAgdGhpcy5waXhlbFJhdGlvID0gb3B0aW9ucy5waXhlbFJhdGlvIHx8IDE7XG4gICAgdGhpcy53aWR0aCA9IHdpZHRoICogdGhpcy5waXhlbFJhdGlvO1xuICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0ICogdGhpcy5waXhlbFJhdGlvO1xuXG4gICAgdGhpcy5jYW52YXMgPSBjYW52YXM7XG4gICAgdGhpcy5jYW52YXMud2lkdGggPSB0aGlzLndpZHRoO1xuICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IHRoaXMuaGVpZ2h0O1xuICAgIHRoaXMuY2FudmFzLnN0eWxlLndpZHRoID0gYCR7d2lkdGh9cHhgXG4gICAgdGhpcy5jYW52YXMuc3R5bGUuaGVpZ2h0ID0gYCR7aGVpZ2h0fXB4YDtcblxuICAgIHRoaXMub3JpZ2luID0geyB4OiB0aGlzLndpZHRoIC8gMiwgeTogdGhpcy5oZWlnaHQgLyAyIH07XG5cbiAgICB0aGlzLmN0eCA9IHRoaXMuY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgdGhpcy5pbWFnZURhdGEgPSB0aGlzLmN0eC5jcmVhdGVJbWFnZURhdGEodGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICAgIHRoaXMucGl4ZWxzID0gbmV3IFVpbnQzMkFycmF5KHRoaXMuaW1hZ2VEYXRhLmRhdGEuYnVmZmVyKTtcbiAgICB0aGlzLmJhY2tncm91bmQgPSBuZXcgVWludDMyQXJyYXkodGhpcy5waXhlbHMubGVuZ3RoKTtcbiAgICB0aGlzLmJhY2tncm91bmQuc2V0KHRoaXMucGl4ZWxzKTtcbiAgfVxuXG4gIGNsZWFyU2NyZWVuKCkge1xuICAgIHRoaXMucGl4ZWxzLnNldCh0aGlzLmJhY2tncm91bmQpO1xuICB9XG5cbiAgYmxpdFNjcmVlbigpIHtcbiAgICB0aGlzLmN0eC5wdXRJbWFnZURhdGEodGhpcy5pbWFnZURhdGEsIDAsIDApO1xuICB9XG5cbiAgYWR2YW5jZUZyYW1lKHRpbWU6IG51bWJlcikge1xuICAgIHRoaXMuZnJhbWUrKztcblxuICAgIC8vIFRyYWNrIEZQU1xuICAgIGlmICh0aW1lICE9IG51bGwgJiYgdGhpcy5sYXN0VGltZSAhPSBudWxsKSB7XG4gICAgICB0aGlzLmVsYXBzZWQgKz0gdGltZSAtIHRoaXMubGFzdFRpbWU7XG5cbiAgICAgIC8vIFJlc2V0IEZQUyB0aW1lciBldmVyeSBOIGZyYW1lc1xuICAgICAgaWYgKHRoaXMuZnJhbWUgJSB0aGlzLmZwc1NhbXBsZVJhbmdlID09IDApIHtcbiAgICAgICAgdGhpcy5lbGFwc2VkID0gMDtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5sYXN0VGltZSA9IHRpbWU7XG4gIH1cblxuICBmcHMoKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQoMTAwMCAvICh0aGlzLmVsYXBzZWQgLyAodGhpcy5mcmFtZSAlIHRoaXMuZnBzU2FtcGxlUmFuZ2UpKSk7XG4gIH1cblxuICB0aW1lUGVyRnJhbWUoKSB7XG4gICAgcmV0dXJuICh0aGlzLmZyYW1lVGltZSAvIHRoaXMuZnJhbWUpO1xuICB9XG5cbiAgc3RhcnRGcmFtZVRpbWVyKCkge1xuICAgIHRoaXMuc3RhcnRGcmFtZVRpbWUgPSArbmV3IERhdGUoKTtcbiAgfVxuXG4gIGVuZEZyYW1lVGltZXIoKSB7XG4gICAgdGhpcy5mcmFtZVRpbWUgKz0gKCtuZXcgRGF0ZSgpKSAtIHRoaXMuc3RhcnRGcmFtZVRpbWU7XG4gIH1cblxuICAvKioqIENsYXNzIG1ldGhvZHMgKioqL1xuXG4gIHN0YXRpYyByZ2JhKHI6IG51bWJlciwgZzogbnVtYmVyLCBiOiBudW1iZXIsIGE6IG51bWJlciA9IG51bGwpOiBudW1iZXIge1xuICAgIHJldHVybiAociB8IChnIDw8IDgpIHwgKGIgPDwgMTYpIHwgKChhIHx8IDI1NSkgPDwgMjQpKTtcbiAgfVxuXG4gIC8vIE1vZGlmeSB0aGUgUkdCIGNvbXBvbmVudHMgKGxvd2VyIDI0IGJpdHMpIGFuZCBsZWF2ZSB0aGUgYWxwaGEgY29tcG9uZW50ICh0b3AgOCBiaXRzKSBhbG9uZVxuICBzdGF0aWMgc2V0UkdCKHA6IG51bWJlciwgcmdiOiBudW1iZXIpOiBudW1iZXIge1xuICAgIHJldHVybiAoKHJnYiAmICh+KDI1NSA8PCAyNCkpKSB8IChwICYgKDI1NSA8PCAyNCkpKTtcbiAgfVxuXG4gIC8vIE1vZGlmeSB0aGUgYWxwaGEgY29tcG9uZW50ICh0b3AgOCBiaXRzKSBhbmQgbGVhdmUgdGhlIFJHQiBpbiB0aGUgbG93ZXIgMjQgYml0cyBhbG9uZVxuICBzdGF0aWMgc2V0QWxwaGEocDogbnVtYmVyLCBhOiBudW1iZXIpOiBudW1iZXIge1xuICAgIHJldHVybiAoKHAgJiAofigyNTUgPDwgMjQpKSkgfCAoYSA8PCAyNCkpO1xuICB9XG5cbiAgLy8gTG9hZCBhbiBpbWFnZSBmcm9tIFVSTFxuICBzdGF0aWMgYXN5bmMgbG9hZEltYWdlKHVybDogc3RyaW5nKTogUHJvbWlzZTxIVE1MSW1hZ2VFbGVtZW50PiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGNvbnN0IGltZyA9IG5ldyBJbWFnZSgpO1xuICAgICAgaW1nLm9ubG9hZCA9ICgpID0+IHJlc29sdmUoaW1nKTtcbiAgICAgIGltZy5vbmVycm9yID0gKCkgPT4gcmVqZWN0KCk7XG4gICAgICBpbWcuc3JjID0gdXJsO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gUmV0dXJucyBhbiBJbWFnZURhdGEgb2JqZWN0LCBnaXZlbiBhbiBJbWFnZSBvYmplY3QgKHZpYSByZW5kZXJpbmcgb24gYSBjYW52YXMpXG4gIHN0YXRpYyBkYXRhRnJvbUltYWdlKGltZzogSFRNTEltYWdlRWxlbWVudCk6IEltYWdlRGF0YXxudWxsIHtcbiAgICBpZiAoaW1nID09IG51bGwpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgIGNhbnZhcy53aWR0aCA9IGltZy53aWR0aDtcbiAgICBjYW52YXMuaGVpZ2h0ID0gaW1nLmhlaWdodDtcblxuICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgIGN0eC5kcmF3SW1hZ2UoaW1nLCAwLCAwLCBpbWcud2lkdGgsIGltZy5oZWlnaHQpO1xuICAgIGNvbnN0IGltYWdlRGF0YSA9IGN0eC5nZXRJbWFnZURhdGEoMCwgMCwgaW1nLndpZHRoLCBpbWcuaGVpZ2h0KTtcblxuICAgIHJldHVybiBpbWFnZURhdGE7XG4gIH1cblxuICAvLyBNYWtlIGEgcGFsZXR0ZSBmcm9tIGdyYWRpZW50c1xuICBzdGF0aWMgbWFrZVBhbGV0dGVGb3JHcmFkaWVudHMoY29sb3JzOiBDb2xvckRpY3Rpb25hcnksIGJhbmRzOiBBcnJheTxbbnVtYmVyLCBudW1iZXIsIHN0cmluZywgc3RyaW5nXT4pOiBVaW50MzJBcnJheSB7XG4gICAgbGV0IG1heHA6bnVtYmVyID0gbnVsbDtcbiAgICBiYW5kcy5mb3JFYWNoKGZ1bmN0aW9uIChiYW5kKSB7XG4gICAgICBpZiAobWF4cCA9PSBudWxsIHx8IGJhbmRbMV0gPiBtYXhwKSB7XG4gICAgICAgIG1heHAgPSBiYW5kWzFdO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgY29uc3QgcGFsZXR0ZSA9IG5ldyBVaW50MzJBcnJheShtYXhwKTtcblxuICAgIGJhbmRzLmZvckVhY2goZnVuY3Rpb24gKGJhbmQpIHtcbiAgICAgIHZhciBwLCBiMSwgYjIsIGMxLCBjMjtcblxuICAgICAgYjEgPSBiYW5kWzBdO1xuICAgICAgYjIgPSBiYW5kWzFdO1xuICAgICAgYzEgPSBjb2xvcnNbYmFuZFsyXV07XG4gICAgICBjMiA9IGNvbG9yc1tiYW5kWzNdXTtcblxuICAgICAgZm9yIChwID0gYjE7IHAgPCBiMSArIGIyOyBwKyspIHtcbiAgICAgICAgcGFsZXR0ZVtwXSA9XG4gICAgICAgICAgKCgoYzJbMF0gLSBjMVswXSkgKiAocCAtIGIxKSAvIChiMiAtIGIxKSkgKyBjMVswXSkgfFxuICAgICAgICAgICgoKChjMlsxXSAtIGMxWzFdKSAqIChwIC0gYjEpIC8gKGIyIC0gYjEpKSArIGMxWzFdKSA8PCA4KSB8XG4gICAgICAgICAgKCgoKGMyWzJdIC0gYzFbMl0pICogKHAgLSBiMSkgLyAoYjIgLSBiMSkpICsgYzFbMl0pIDw8IDE2KSB8XG4gICAgICAgICAgKDI1NSA8PCAyNCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gcGFsZXR0ZTtcbiAgfVxuXG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb2ludCB7XG4gIHg6IG51bWJlcjtcbiAgeTogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKHg6IG51bWJlciwgeTogbnVtYmVyKSB7XG4gICAgcmV0dXJuIHsgeCwgeSB9O1xuICB9XG5cbiAgc3RhdGljIGNvcHkocDogUG9pbnQpOiBQb2ludCB7XG4gICAgaWYgKHAgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiB7IHg6IHAueCwgeTogcC55IH07XG4gIH1cblxuICBzdGF0aWMgZXF1YWxzKGZpcnN0OiBQb2ludCwgc2Vjb25kOiBQb2ludCk6IGJvb2xlYW4ge1xuICAgIGlmIChmaXJzdCA9PSBudWxsIHx8IHNlY29uZCA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiAoZmlyc3QueCA9PSBzZWNvbmQueCAmJiBmaXJzdC55ID09IHNlY29uZC55KTtcbiAgfVxuXG4gIHN0YXRpYyByb3RhdGUocDogUG9pbnQsIHRoZXRhOiBudW1iZXIpOiBQb2ludCB7XG4gICAgcmV0dXJuIG5ldyBQb2ludChcbiAgICAgIHAueCAqIE1hdGguY29zKHRoZXRhICogTWF0aC5QSSAvIDE4MCkgKyBwLnkgKiAtTWF0aC5zaW4odGhldGEgKiBNYXRoLlBJIC8gMTgwKSxcbiAgICAgIHAueCAqIE1hdGguc2luKHRoZXRhICogTWF0aC5QSSAvIDE4MCkgKyBwLnkgKiBNYXRoLmNvcyh0aGV0YSAqIE1hdGguUEkgLyAxODApXG4gICAgKTtcbiAgfVxuXG4gIHN0YXRpYyBwcmludChwOiBQb2ludCk6IHN0cmluZyB7XG4gICAgaWYgKHAgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBcIihcIiArIHAueCArIFwiLCBcIiArIHAueSArIFwiKVwiO1xuICB9XG5cbn1cbiIsImltcG9ydCBQb2ludCBmcm9tICcuL3BvaW50JztcblxuLy8gZXhwb3J0IGNsYXNzIExpbmUge1xuLy8gXHRzdGFydDogUG9pbnQ7XG4vLyBcdGVuZDogUG9pbnQ7XG5cbi8vIFx0Y29uc3RydWN0b3Ioc3RhcnQsIGVuZCkge1xuLy8gXHRcdHRoaXMuc3RhcnQgPSBzdGFydDtcbi8vIFx0XHR0aGlzLmVuZCA9IGVuZDtcbi8vIFx0fVxuLy8gfVxuXG5pbnRlcmZhY2UgTGluZSB7XG5cdHN0YXJ0OiBQb2ludDtcblx0ZW5kOiBQb2ludDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQcm9wZXJ0eVZhbHVlRGljdGlvbmFyeSB7XG5cdFtpbmRleDogc3RyaW5nXTogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFByb3BlcnR5UmFuZ2VEaWN0aW9uYXJ5IHtcblx0W2luZGV4OiBzdHJpbmddOiBbbnVtYmVyLCBudW1iZXJdO1xufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMaW5lVHJhY2VyIHtcblx0cG9zaXRpb246IFBvaW50O1xuXHRwcm9wZXJ0aWVzOiBQcm9wZXJ0eVZhbHVlRGljdGlvbmFyeTtcblxuXHRwcml2YXRlIGxpbmU6IExpbmU7XG5cdHByaXZhdGUgZGVsdGE6IFBvaW50O1xuXHRwcml2YXRlIHN0ZXA6IFBvaW50O1xuXHRwcml2YXRlIGFjY3VtdWxhdG9yOiBudW1iZXI7XG5cdHByaXZhdGUgcHJvcGVydHlEZWx0YXM6IFByb3BlcnR5VmFsdWVEaWN0aW9uYXJ5O1xuXG5cdGNvbnN0cnVjdG9yKGxpbmU6IExpbmUsIHByb3BlcnRpZXM6IFByb3BlcnR5UmFuZ2VEaWN0aW9uYXJ5ID0ge30pIHtcblx0XHR0aGlzLmxpbmUgPSBsaW5lO1xuXG5cdFx0Ly8gRm9yY2VzIGludGVnZXJzIC8gd2hvbGUgcGl4ZWxzXG5cdFx0dGhpcy5saW5lLnN0YXJ0LnggPSBNYXRoLnJvdW5kKHRoaXMubGluZS5zdGFydC54KTtcblx0XHR0aGlzLmxpbmUuc3RhcnQueSA9IE1hdGgucm91bmQodGhpcy5saW5lLnN0YXJ0LnkpO1xuXG5cdFx0dGhpcy5saW5lLmVuZC54ID0gTWF0aC5yb3VuZCh0aGlzLmxpbmUuZW5kLngpO1xuXHRcdHRoaXMubGluZS5lbmQueSA9IE1hdGgucm91bmQodGhpcy5saW5lLmVuZC55KTtcblxuXHRcdHRoaXMucG9zaXRpb24gPSBQb2ludC5jb3B5KHRoaXMubGluZS5zdGFydCk7XG5cblx0XHQvLyBCcmVzZW5oYW0tc3R5bGUgbGluZSBpdGVyYXRvclxuXHRcdHRoaXMuZGVsdGEgPSBuZXcgUG9pbnQoXG5cdFx0XHRNYXRoLmFicyh0aGlzLmxpbmUuZW5kLnggLSB0aGlzLmxpbmUuc3RhcnQueCksXG5cdFx0XHRNYXRoLmFicyh0aGlzLmxpbmUuZW5kLnkgLSB0aGlzLmxpbmUuc3RhcnQueSlcblx0XHQpO1xuXG5cdFx0dGhpcy5zdGVwID0gbmV3IFBvaW50KFxuXHRcdFx0KHRoaXMubGluZS5zdGFydC54IDwgdGhpcy5saW5lLmVuZC54KSA/IDEgOiAtMSxcblx0XHRcdCh0aGlzLmxpbmUuc3RhcnQueSA8IHRoaXMubGluZS5lbmQueSkgPyAxIDogLTFcblx0XHQpO1xuXG5cdFx0dGhpcy5hY2N1bXVsYXRvciA9ICh0aGlzLmRlbHRhLnggPj0gdGhpcy5kZWx0YS55KSA/ICh0aGlzLmRlbHRhLnggLyAyKSA6ICh0aGlzLmRlbHRhLnkgLyAyKTtcblxuXHRcdC8vIE9wdGlvbmFsbHkgaW50ZXJwb2xhdGUgYmV0d2VlbiBhZGRpdGlvbmFsbHkgcHJvdmlkZWQgbmFtZWQgcHJvcGVydHkgcmFuZ2VzLCBwYXNzZWQgaW4gdGhlIGZvcm0gb2Y6XG5cdFx0Ly8gcHJvcGVydGllcyA9IHsga2V5MTogW2Zyb20sIHRvXSwga2V5MjogW2Zyb20sIHRvXSwgLi4uIH1cblx0XHRpZiAoT2JqZWN0LmtleXMocHJvcGVydGllcykubGVuZ3RoID4gMCkge1xuXHRcdFx0dGhpcy5wcm9wZXJ0aWVzID0ge307XG5cdFx0XHR0aGlzLnByb3BlcnR5RGVsdGFzID0ge307XG5cblx0XHRcdGZvciAoY29uc3QgayBpbiBwcm9wZXJ0aWVzKSB7XG5cdFx0XHRcdHRoaXMucHJvcGVydGllc1trXSA9IHByb3BlcnRpZXNba11bMF07XG5cdFx0XHRcdHRoaXMucHJvcGVydHlEZWx0YXNba10gPSAocHJvcGVydGllc1trXVsxXSAtIHByb3BlcnRpZXNba11bMF0pO1xuXHRcdFx0XHRpZiAodGhpcy5kZWx0YS54ID49IHRoaXMuZGVsdGEueSkge1xuXHRcdFx0XHRcdHRoaXMucHJvcGVydHlEZWx0YXNba10gLz0gdGhpcy5kZWx0YS54O1xuXHRcdFx0XHR9XG5cdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdHRoaXMucHJvcGVydHlEZWx0YXNba10gLz0gdGhpcy5kZWx0YS55O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0bmV4dCgpIHtcblx0XHRpZiAodGhpcy5wb3NpdGlvbiA9PSBudWxsKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGVsc2UgaWYgKFBvaW50LmVxdWFscyh0aGlzLnBvc2l0aW9uLCB0aGlzLmxpbmUuZW5kKSkge1xuXHRcdFx0dGhpcy5wb3NpdGlvbiA9IG51bGw7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuZGVsdGEueCA+PSB0aGlzLmRlbHRhLnkpIHtcblx0XHRcdHRoaXMucG9zaXRpb24ueCArPSB0aGlzLnN0ZXAueDtcblxuXHRcdFx0aWYgKHRoaXMuc3RlcC55ICE9IDApIHtcblx0XHRcdFx0dGhpcy5hY2N1bXVsYXRvciAtPSB0aGlzLmRlbHRhLnk7XG5cdFx0XHRcdGlmICh0aGlzLmFjY3VtdWxhdG9yIDwgMCkge1xuXHRcdFx0XHRcdHRoaXMucG9zaXRpb24ueSArPSB0aGlzLnN0ZXAueTtcblx0XHRcdFx0XHR0aGlzLmFjY3VtdWxhdG9yICs9IHRoaXMuZGVsdGEueDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XHRlbHNlIHtcblx0XHRcdHRoaXMucG9zaXRpb24ueSArPSB0aGlzLnN0ZXAueTtcblxuXHRcdFx0aWYgKHRoaXMuc3RlcC54ICE9IDApIHtcblx0XHRcdFx0dGhpcy5hY2N1bXVsYXRvciAtPSB0aGlzLmRlbHRhLng7XG5cdFx0XHRcdGlmICh0aGlzLmFjY3VtdWxhdG9yIDwgMCkge1xuXHRcdFx0XHRcdHRoaXMucG9zaXRpb24ueCArPSB0aGlzLnN0ZXAueDtcblx0XHRcdFx0XHR0aGlzLmFjY3VtdWxhdG9yICs9IHRoaXMuZGVsdGEueTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIEFkZGl0aW9uYWwgcHJvcGVydGllc1xuXHRcdGlmICh0aGlzLnByb3BlcnRpZXMgIT0gbnVsbCkge1xuXHRcdFx0Zm9yIChjb25zdCBrIGluIHRoaXMucHJvcGVydGllcykge1xuXHRcdFx0XHR0aGlzLnByb3BlcnRpZXNba10gKz0gdGhpcy5wcm9wZXJ0eURlbHRhc1trXTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxufVxuIiwiaW1wb3J0IERpc3BsYXkgZnJvbSAnLi9kaXNwbGF5JztcbmltcG9ydCBQb2ludCBmcm9tICcuL3BvaW50JztcbmltcG9ydCBQb2x5Z29uIGZyb20gJy4vcG9seWdvbic7XG5pbXBvcnQgSGVpZ2h0bWFwUG9seWdvbiBmcm9tICcuL2hlaWdodG1hcCc7XG5cbmNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYW52YXMnKSBhcyBIVE1MQ2FudmFzRWxlbWVudDtcbmNvbnN0IHBpeGVsUmF0aW8gPSAxOyAvL3dpbmRvdy5kZXZpY2VQaXhlbFJhdGlvO1xuY29uc3QgZGlzcGxheSA9IG5ldyBEaXNwbGF5KDU2MCwgNTYwLCBjYW52YXMsIHsgcGl4ZWxSYXRpbyB9KTsgLy8gNzAwLCA3MDBcblxuY29uc3QgcG9seWdvblNpemUgPSAyMjUgKiBwaXhlbFJhdGlvO1xuY29uc3QgcG9seWdvbiA9IG5ldyBIZWlnaHRtYXBQb2x5Z29uKFBvbHlnb24udmVydGV4ZXNGb3JOU2lkZWQoNiwgcG9seWdvblNpemUsIHsgdGV4dHVyZTogeyB3aWR0aDogMjU2LCBoZWlnaHQ6IDI1NiB9IH0pLCBkaXNwbGF5KTsgLy8gMzAwXG4vLyBjb25zdCBwb2x5Z29uID0gbmV3IFBvbHlnb24oUG9seWdvbi52ZXJ0ZXhlc0Zvck5TaWRlZCg2LCAyMjUsIHsgdGV4dHVyZTogeyB3aWR0aDogMjU2LCBoZWlnaHQ6IDI1NiB9IH0pLCBkaXNwbGF5KTsgLy8gMzAwXG5wb2x5Z29uLnBvc2l0aW9uID0gbmV3IFBvaW50KDAsIDUwKTtcblxuLy8gR3JhZGllbnQgdGhlIHZlcnRleGVzIC0gdW51c2VkIGluIGhlaWdodG1hcCBkZW1vLCBidXQgY2FuIHVzZSB3aXRoIHBvbHlnb24ucmVuZGVyR3JhZGllbnQoKVxucG9seWdvbi52ZXJ0ZXhlcy5mb3JFYWNoKGZ1bmN0aW9uICh2ZXJ0ZXgsIHA6IG51bWJlcikge1xuXHR2ZXJ0ZXguciA9IHAgKiAyNTYgLyBwb2x5Z29uLnZlcnRleGVzLmxlbmd0aCArIDA7XG5cdHZlcnRleC5nID0gKChwICsgcG9seWdvbi52ZXJ0ZXhlcy5sZW5ndGggLyAzKSAlIHBvbHlnb24udmVydGV4ZXMubGVuZ3RoKSAqIDI1NiAvIHBvbHlnb24udmVydGV4ZXMubGVuZ3RoICsgMDtcblx0dmVydGV4LmIgPSAoKHAgKyBwb2x5Z29uLnZlcnRleGVzLmxlbmd0aCAqIDIgLyAzKSAlIHBvbHlnb24udmVydGV4ZXMubGVuZ3RoKSAqIDI1NiAvIHBvbHlnb24udmVydGV4ZXMubGVuZ3RoICsgMDtcbn0pO1xuXG5cdC8vIExvYWQgdGV4dHVyZS9oZWlnaHRtYXAgYW5kIGNvbmZpZ3VyZWRcbihhc3luYyAoKSA9PiB7XG5cdGNvbnN0IGltZzogSFRNTEltYWdlRWxlbWVudCA9IGF3YWl0IERpc3BsYXkubG9hZEltYWdlKCcuLi9oZWlnaHRtYXAucG5nJyk7XG5cblx0bGV0IHBhbGV0dGUsIHAsIGM7XG5cblx0cG9seWdvbi5zZXRUZXh0dXJlKERpc3BsYXkuZGF0YUZyb21JbWFnZShpbWcpKTtcblxuXHQvLyBNYWtlIHRoZSB0ZXJyYWluIHBhbGV0dGVcblx0cGFsZXR0ZSA9IERpc3BsYXkubWFrZVBhbGV0dGVGb3JHcmFkaWVudHMoXG5cdFx0e1xuXHRcdFx0cHVyZV9ibHVlOiBbMCwgMCwgMjU1XSxcblx0XHRcdGRhcmtfYmx1ZTogWzAsIDI2LCAyNTVdLFxuXHRcdFx0bWVkX2JsdWU6IFswLCAxMDMsIDI1NV0sXG5cdFx0XHRsaWdodF9ibHVlOiBbMCwgMTc5LCAyNTVdLFxuXHRcdFx0ZGFya19ncmVlbjogWzAsIDgwLCAxM10sXG5cdFx0XHRtZWRfZ3JlZW46IFs2NCwgMTI4LCAwXSxcblx0XHRcdGxpZ2h0X2dyZWVuOiBbMTI4LCAxOTYsIDBdLFxuXHRcdFx0YnJvd246IFs4MCwgNDgsIDBdLFxuXHRcdFx0d2hpdGU6IFsyNTIsIDI1MiwgMjUyXVxuXHRcdH0sXG5cdFx0W1xuXHRcdFx0WzAsIDgsICdwdXJlX2JsdWUnLCAnZGFya19ibHVlJ10sXG5cdFx0XHRbOCwgMjQsICdkYXJrX2JsdWUnLCAnbWVkX2JsdWUnXSxcblx0XHRcdFsyNCwgMzIsICdtZWRfYmx1ZScsICdsaWdodF9ibHVlJ10sXG5cdFx0XHRbMzIsIDY0LCAnZGFya19ncmVlbicsICdtZWRfZ3JlZW4nXSxcblx0XHRcdFs2NCwgMTIwLCAnbWVkX2dyZWVuJywgJ2xpZ2h0X2dyZWVuJ10sXG5cdFx0XHRbMTIwLCAxODAsICdsaWdodF9ncmVlbicsICdicm93biddLFxuXHRcdFx0WzE4MCwgMjEwLCAnYnJvd24nLCAnd2hpdGUnXSxcblx0XHRcdFsyMTAsIDI1NiwgJ3doaXRlJywgJ3doaXRlJ11cblx0XHRdXG5cdCk7XG5cblx0Ly8gUmVtYXAgZ3JheXNjYWxlIGhlaWdodG1hcCB0byBwYWxldHRlLCBhbmQgYWRqdXN0IGhlaWdodFxuXHRmb3IgKHAgPSAwOyBwIDwgcG9seWdvbi50ZXh0dXJlLndpZHRoICogcG9seWdvbi50ZXh0dXJlLmhlaWdodDsgcCArKykge1xuXHRcdGMgPSBwb2x5Z29uLnRleDMyW3BdICYgMjU1O1x0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gT25seSB1c2UgdGhlIHJlZCB2YWx1ZVxuXHRcdHBvbHlnb24udGV4MzJbcF0gPSBwYWxldHRlW2NdO1x0XHRcdFx0XHRcdFx0XHRcdC8vIExvb2stdXAgUkdCIGluIHBhbGV0dGVcblx0XHRwb2x5Z29uLnRleDMyW3BdID0gRGlzcGxheS5zZXRBbHBoYShwb2x5Z29uLnRleDMyW3BdLCBjIC8gMik7XHQvLyBTY2FsZSBoZWlnaHQgYnkgaGFsZlxuXHR9XG5cblx0LyogRXhwZXJpbWVudGluZyB3aXRoIGFsdGVybmF0ZSwgZ2VvbWV0cmljIGhlaWdodG1hcHMgKi9cblxuXHQvLyBGaWxtIG5vaXJpc2ggY2l0eSBlZmZlY3Rcblx0Ly8gZm9yICh2YXIgeSA9IDA7IHkgPCAyNTY7IHkrKykge1xuXHQvLyBcdGZvciAodmFyIHggPSAwOyB4IDwgMjU2OyB4KyspIHtcblx0Ly8gXHRcdHBvbHlnb24udGV4MzJbeSoyNTYreF0gPSBEaXNwbGF5LnNldEFscGhhKHBvbHlnb24udGV4MzJbeSoyNTYreF0sICgoeCA+PiA0KSAmICh5ID4+IDQpKSA8PCA1KTtcblx0Ly8gXHR9XG5cdC8vIH1cblxuXHQvLyBTYW1wbGUgcGFsZXR0ZSBzd2F0Y2hcblx0Ly8gZm9yIChwID0gMDsgcCA8IDI1NjsgcCsrKSB7XG5cdC8vIFx0ZGlzcGxheS5iYWNrZ3JvdW5kW3AgKyAoZGlzcGxheS5oZWlnaHQgLSAxKSAqIGRpc3BsYXkud2lkdGhdID0gcGFsZXR0ZVtwXSB8ICgyNTUgPDwgMjQpO1xuXHQvLyBcdGRpc3BsYXkuYmFja2dyb3VuZFtwICsgKGRpc3BsYXkuaGVpZ2h0IC0gMikgKiBkaXNwbGF5LndpZHRoXSA9IHBhbGV0dGVbcF0gfCAoMjU1IDw8IDI0KTtcblx0Ly8gXHRkaXNwbGF5LmJhY2tncm91bmRbcCArIChkaXNwbGF5LmhlaWdodCAtIDMpICogZGlzcGxheS53aWR0aF0gPSBwYWxldHRlW3BdIHwgKDI1NSA8PCAyNCk7XG5cdC8vIFx0ZGlzcGxheS5iYWNrZ3JvdW5kW3AgKyAoZGlzcGxheS5oZWlnaHQgLSA0KSAqIGRpc3BsYXkud2lkdGhdID0gcGFsZXR0ZVtwXSB8ICgyNTUgPDwgMjQpO1xuXHQvLyBcdGRpc3BsYXkuYmFja2dyb3VuZFtwICsgKGRpc3BsYXkuaGVpZ2h0IC0gNSkgKiBkaXNwbGF5LndpZHRoXSA9IHBhbGV0dGVbcF0gfCAoMjU1IDw8IDI0KTtcblx0Ly8gfVxuXG5cdC8vIFN0YXJ0IHJlbmRlcmluZ1xuXHRsb29wKCk7XG59KSgpO1xuXG4vLyBLZXlib2FyZCBjb250cm9scyAtIGN1cnJlbnRseSB1bnVzZWQsIGJ1dCBjYW4gdW5jb21tZW50IGlucHV0IGNvZGUgaW4gcmVuZGVyIGxvb3AgdG8gY29udHJvbCBkaXJlY3RseVxubGV0IGtleSA9IG51bGw7XG5cbmRvY3VtZW50Lm9ua2V5ZG93biA9IGZ1bmN0aW9uIChldmVudCkge1xuXHRpZiAoZXZlbnQua2V5Q29kZSA9PSAzNykge1xuXHRcdGtleSA9ICdsZWZ0Jztcblx0fVxuXHRlbHNlIGlmIChldmVudC5rZXlDb2RlID09IDM5KSB7XG5cdFx0a2V5ID0gJ3JpZ2h0Jztcblx0fVxuXHRlbHNlIGlmIChldmVudC5rZXlDb2RlID09IDM4KSB7XG5cdFx0a2V5ID0gJ3VwJztcblx0fVxuXHRlbHNlIGlmIChldmVudC5rZXlDb2RlID09IDQwKSB7XG5cdFx0a2V5ID0gJ2Rvd24nO1xuXHR9XG59XG5cbmRvY3VtZW50Lm9ua2V5dXAgPSBmdW5jdGlvbiAoZXZlbnQpIHtcblx0a2V5ID0gbnVsbDtcbn1cblxuLy8gUmVuZGVyIGxvb3BcbmxldCB2ZWwgPSAwLjU7XG5cbmZ1bmN0aW9uIGxvb3AgKHRpbWU6IG51bWJlciA9ICgrbmV3IERhdGUoKSkpIHtcblx0ZGlzcGxheS5jbGVhclNjcmVlbigpO1xuXG5cdC8vIHBvbHlnb24ucmVuZGVyR3JhZGllbnQoKTtcblx0Ly8gcG9seWdvbi5yZW5kZXJFZGdlcyhEaXNwbGF5LnJnYmEoMjU1LCAyNTUsIDI1NSkpO1xuXHQvLyBwb2x5Z29uLnJlbmRlclRleHR1cmUoKTtcblx0cG9seWdvbi5yZW5kZXJIZWlnaHRtYXAoKTtcblxuXHRwb2x5Z29uLnJvdGF0aW9uICs9IHZlbDtcblxuXHQvLyBJbnB1dCAoaW5zdGVhZCBvZiBhdXRvLXJvdGF0ZSBhYm92ZSlcblx0Ly8gaWYgKGtleSA9PSAnbGVmdCcpIHtcblx0Ly8gXHRwb2x5Z29uLnJvdGF0aW9uIC09IDE7XG5cdC8vIH1cblx0Ly8gZWxzZSBpZiAoa2V5ID09ICdyaWdodCcpIHtcblx0Ly8gXHRwb2x5Z29uLnJvdGF0aW9uICs9IDE7XG5cdC8vIH1cblxuXHQvLyBpZiAoa2V5ID09ICd1cCcpIHtcblx0Ly8gXHRwb2x5Z29uLnpvb20gKz0gMC4wMjtcblx0Ly8gXHRpZiAocG9seWdvbi56b29tID4gMykge1xuXHQvLyBcdFx0cG9seWdvbi56b29tID0gMztcblx0Ly8gXHR9XG5cdC8vIH1cblx0Ly8gZWxzZSBpZiAoa2V5ID09ICdkb3duJykge1xuXHQvLyBcdHBvbHlnb24uem9vbSAtPSAwLjAyO1xuXHQvLyBcdGlmIChwb2x5Z29uLnpvb20gPCAxKSB7XG5cdC8vIFx0XHRwb2x5Z29uLnpvb20gPSAxO1xuXHQvLyBcdH1cblx0Ly8gfVxuXG5cdGRpc3BsYXkuYmxpdFNjcmVlbigpO1xuXHRkaXNwbGF5LmFkdmFuY2VGcmFtZSh0aW1lKTtcblx0cmVxdWVzdEFuaW1hdGlvbkZyYW1lKGxvb3ApO1xufVxuIiwiaW1wb3J0IFBvbHlnb24sIHsgVmVydGV4IH0gZnJvbSAnLi9wb2x5Z29uJztcbmltcG9ydCBEaXNwbGF5IGZyb20gJy4vZGlzcGxheSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEhlaWdodG1hcFBvbHlnb24gZXh0ZW5kcyBQb2x5Z29uIHtcblx0eGhlaWdodHM6IEludDE2QXJyYXk7XG5cdHhoZWlnaHRzX2VtcHR5OiBJbnQxNkFycmF5O1xuXG5cdGNvbnN0cnVjdG9yKHZlcnRleGVzOiBWZXJ0ZXhbXSwgZGlzcGxheTogRGlzcGxheSkge1xuXHRcdHN1cGVyKHZlcnRleGVzLCBkaXNwbGF5KTtcblxuXHRcdC8vIFRyYWNrcyB0aGUgaGlnaGVzdCBwb2ludCByZW5kZXJlZCBzbyBmYXIgZm9yIGVhY2ggeCB2YWx1ZVxuXHRcdHRoaXMueGhlaWdodHMgPSBuZXcgSW50MTZBcnJheSh0aGlzLmRpc3BsYXkud2lkdGgpO1xuXG5cdFx0Ly8gUmVzZXRzIHggdmFsdWVzIGVhY2ggZnJhbWUgc28gdGhhdCB3ZSBvbmx5IG5lZWQgdG8gYWxsb2NhdGUgdGhlIGFycmF5IG9uY2Vcblx0XHR0aGlzLnhoZWlnaHRzX2VtcHR5ID0gbmV3IEludDE2QXJyYXkodGhpcy5kaXNwbGF5LndpZHRoKTtcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMueGhlaWdodHNfZW1wdHkubGVuZ3RoOyBpKyspIHtcblx0XHRcdHRoaXMueGhlaWdodHNfZW1wdHlbaV0gPSB0aGlzLmRpc3BsYXkuaGVpZ2h0O1xuXHRcdH1cblx0fVxuXG5cdHJlbmRlckhlaWdodG1hcCgpIHtcblx0XHRjb25zdCB7IHdpZHRoLCBoZWlnaHQsIHBpeGVscyB9ID0gdGhpcy5kaXNwbGF5O1xuXG5cdFx0aWYgKHRoaXMudGV4dHVyZSA9PSBudWxsKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dGhpcy5kaXNwbGF5LnN0YXJ0RnJhbWVUaW1lcigpO1xuXG5cdFx0dGhpcy5yYXN0ZXJpemUoWyd1JywgJ3YnXSk7XG5cdFx0dGhpcy54aGVpZ2h0cy5zZXQodGhpcy54aGVpZ2h0c19lbXB0eSk7XG5cblx0XHQvLyBSZW5kZXIgc2NhbmxpbmVzIGJvdHRvbSB0byB0b3AsIHRvIG1pbmltaXplICMgb2YgcGl4ZWxzIGRyYXduIChubyBoaWRkZW4gdGVycmFpbiB3aWxsIGJlIHJlbmRlcmVkKVxuXHRcdGZvciAobGV0IHkgPSB0aGlzLnltYXg7IHkgPj0gdGhpcy55bWluOyB5LS0pIHtcblx0XHRcdGxldCB1ID0gdGhpcy5sZWZ0RWRnZVByb3BlcnRpZXMudVt5XTtcblx0XHRcdGxldCB2ID0gdGhpcy5sZWZ0RWRnZVByb3BlcnRpZXMudlt5XTtcblxuXHRcdFx0Y29uc3QgdWRlbHRhID0gdGhpcy5yb3dQcm9wZXJ0eURlbHRhcy51W3ldO1xuXHRcdFx0Y29uc3QgdmRlbHRhID0gdGhpcy5yb3dQcm9wZXJ0eURlbHRhcy52W3ldO1xuXG5cdFx0XHRsZXQgbGVmdCA9IHRoaXMubGVmdEVkZ2VzW3ldO1xuXHRcdFx0bGV0IHJpZ2h0ID0gdGhpcy5yaWdodEVkZ2VzW3ldO1xuXG5cdFx0XHQvLyBDbGlwIGxlZnQvcmlnaHQgb2Ygc2NyZWVuXG5cdFx0XHRpZiAobGVmdCA8IDApIHtcblx0XHRcdFx0dSArPSAoLWxlZnQpICogdWRlbHRhO1xuXHRcdFx0XHR2ICs9ICgtbGVmdCkgKiB2ZGVsdGE7XG5cdFx0XHRcdGxlZnQgPSAwO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAocmlnaHQgPj0gd2lkdGgpIHtcblx0XHRcdFx0cmlnaHQgPSB3aWR0aDtcblx0XHRcdH1cblxuXHRcdFx0Ly8gUmVuZGVyIHNjYW5saW5lXG5cdFx0XHRmb3IgKGxldCB4ID0gbGVmdDsgeCA8IHJpZ2h0OyB4KyspIHtcblx0XHRcdFx0Ly8gR2V0IHRleHR1cmUgdmFsdWUgLSB1c2luZyB+fiBpbnRlZ2VyIHR5cGVjYXN0IG5vdGF0aW9uIHdhcyBmYXN0ZXIgdGhhbiBNYXRoLnJvdW5kKClcblx0XHRcdFx0Y29uc3QgdCA9IHRoaXMudGV4MzJbKCh+fnYpIDw8IDgpICsgKH5+dSldOyAvLyBoYXJkLWNvZGVkIGZvciAyNTYtd2lkdGggdGV4dHVyZVxuXG5cdFx0XHRcdC8vIERldGVybWluZSBob3cgaGlnaCB0aGlzIHNsaWNlIG9mIHRlcnJhaW4gaXNcblx0XHRcdFx0bGV0IGggPSB0ID4+PiAyNDtcblx0XHRcdFx0aCA9IHkgLSBoO1xuXG5cdFx0XHRcdGlmIChoIDwgMCkge1xuXHRcdFx0XHRcdGggPSAwO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gRmlyc3Qgc2xpY2UgZm9yIHRoaXMgeCBjb29yZD9cblx0XHRcdFx0aWYgKHRoaXMueGhlaWdodHNbeF0gPT0gaGVpZ2h0KSB7XG5cdFx0XHRcdFx0dGhpcy54aGVpZ2h0c1t4XSA9IGg7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBPbmx5IGRyYXcgdGhlIHBhcnQgb2YgdGhlIHNsaWNlIChpZiBhbnkpIHRoYXQgaXMgdmlzaWJsZSAod2Fzbid0IHByZXZpb3VzbHkgcmVuZGVyZWQpXG5cdFx0XHRcdGlmIChoIDwgdGhpcy54aGVpZ2h0c1t4XSkge1xuXHRcdFx0XHRcdGxldCBvZmYgPSB0aGlzLnhoZWlnaHRzW3hdICogd2lkdGggKyB4O1xuXG5cdFx0XHRcdFx0Zm9yIChsZXQgeiA9IHRoaXMueGhlaWdodHNbeF07IHogPj0gaDsgei0tKSB7XG5cdFx0XHRcdFx0XHRwaXhlbHNbb2ZmXSA9IHQgfCAoMjU1IDw8IDI0KTtcblx0XHRcdFx0XHRcdG9mZiAtPSB3aWR0aDtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHR0aGlzLnhoZWlnaHRzW3hdID0gaDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHUgKz0gdWRlbHRhO1xuXHRcdFx0XHR2ICs9IHZkZWx0YTtcblx0XHRcdH1cblx0XHR9XG5cdFx0dGhpcy5kaXNwbGF5LmVuZEZyYW1lVGltZXIoKTtcblx0fVxuXG59O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==